<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Central de Exegese - EDB</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --bg-body: #0f0f0f; --bg-card: #1a1a1a; --bg-sidebar: #141414;
            --text-main: #e0e0e0; --accent: #3498db; --border: #333; --success: #27ae60;
        }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; height: 100vh; background: var(--bg-body); color: var(--text-main); overflow: hidden; }
        
        /* Sidebar */
        .sidebar { width: 350px; background: var(--bg-sidebar); border-right: 1px solid var(--border); display: flex; flex-direction: column; }
        .search-container { padding: 20px; border-bottom: 1px solid var(--border); }
        .search-box { width: 100%; padding: 10px; background: #222; border: 1px solid var(--border); border-radius: 8px; color: #fff; outline: none; }
        .sidebar-content { flex: 1; overflow-y: auto; padding: 20px; }
        .topic { margin-bottom: 15px; background: #1e1e1e; padding: 12px; border-radius: 8px; font-size: 0.85em; }

        /* Main Area */
        .main-content { flex: 1; overflow-y: auto; padding: 40px; display: grid; grid-template-columns: 1fr 300px; gap: 30px; }
        #area-pdf { padding: 10px; border-radius: 12px; } /* √Årea que ser√° capturada pelo PDF */
        
        .card { background: var(--bg-card); padding: 20px; border-radius: 12px; margin-bottom: 20px; border-left: 5px solid #444; }
        .p1 { border-left-color: #3498db; } .p2 { border-left-color: #f1c40f; } .tools { border-left-color: #9b59b6; } .p3 { border-left-color: #27ae60; }
        
        textarea, input { width: 100%; padding: 12px; background: #222; border: 1px solid var(--border); border-radius: 6px; color: #fff; margin-top: 10px; box-sizing: border-box; }
        
        /* Painel Lateral */
        .dashboard { background: var(--bg-card); padding: 20px; border-radius: 12px; height: fit-content; border: 1px solid var(--border); }
        .btn-group { display: flex; flex-direction: column; gap: 10px; margin-top: 20px; }
        button { padding: 12px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; }
        .btn-pdf { background: #e74c3c; color: white; }
        .btn-reset { background: #444; color: white; }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="search-container">
            <input type="text" id="globalSearch" class="search-box" placeholder="üîé Pesquisar na Apostila..." onkeyup="filtrar()">
        </div>
        <div class="sidebar-content" id="teoria">
            <h2>üìö Guia EDB</h2>
            <div class="topic searchable">
                <strong>Aula 1: Lendo vs Estudando</strong> <br>
                A exegese busca a <em>inten√ß√£o do autor</em> em vez de apenas motiva√ß√£o pessoal[cite: 14]. 
                Evite a Eisegese (impor seu sentido ao texto)[cite: 17, 22].
            </div>
            <div class="topic searchable">
                <strong>Aula 2: Observa√ß√£o</strong> <br>
                Pergunta: "O que eu vejo no texto?"[cite: 69]. Identifique verbos, repeti√ß√µes e fatos[cite: 52].
            </div>
            <div class="topic searchable">
                <strong>Aula 3: Interpreta√ß√£o</strong> <br>
                Pergunta: "O que significou L√Å?"[cite: 70]. Busque o significado original para os primeiros ouvintes[cite: 36].
            </div>
            <div class="topic searchable">
                <strong>Aula 4: Aplica√ß√£o</strong> <br>
                Pergunta: "O que significa AQUI?"[cite: 71]. A aplica√ß√£o deve ser limitada pela inten√ß√£o original[cite: 49].
            </div>
            <div class="topic searchable">
                <strong>Aula 5: Ferramentas</strong> <br>
                Use o Grego/Hebraico para √™nfases sutis[cite: 51, 52]. Coment√°rios s√£o o √∫ltimo passo[cite: 55].
            </div>
            <a href="INTENSIVO_COMO_ESTUDAR_A_BIBLIA.pdf" download style="display:block; text-align:center; color:var(--accent); margin-top:10px;">üì• Baixar Apostila PDF</a>
        </div>
    </div>

    <div class="main-content">
        <div id="area-pdf">
            <h1>üìì Caderno de Exegese</h1>
            <div class="card">
                <label>Refer√™ncia B√≠blica:</label>
                <input type="text" id="ref" placeholder="Ex: Filipenses 4:10-13">
            </div>
            <div class="card p1"><h3>1. Observa√ß√£o üîç</h3><textarea id="v1" rows="4"></textarea></div>
            <div class="card p2"><h3>2. Interpreta√ß√£o üí°</h3><textarea id="v2" rows="4"></textarea></div>
            <div class="card tools"><h3>3. Ferramentas üõ†Ô∏è</h3><textarea id="vT" rows="3"></textarea></div>
            <div class="card p3"><h3>4. Aplica√ß√£o üå±</h3><textarea id="v3" rows="4"></textarea></div>
        </div>

        <div class="dashboard">
            <h3>‚úÖ Checklist EDB</h3>
            <label style="display:block"><input type="checkbox"> Ore por ilumina√ß√£o</label>
            <label style="display:block"><input type="checkbox"> Identifique a inten√ß√£o autoral</label>
            <label style="display:block"><input type="checkbox"> Evitou a Eisegese?</label>
            <label style="display:block"><input type="checkbox"> Consultou as ferramentas?</label>
            
            <div class="btn-group">
                <button class="btn-pdf" onclick="gerarPDF()">üìÑ Baixar como PDF</button>
                <button class="btn-reset" onclick="limpar()">üóëÔ∏è Limpar Campos</button>
            </div>
        </div>
    </div>

    <script>
        function filtrar() {
            let val = document.getElementById('globalSearch').value.toLowerCase();
            document.querySelectorAll('.searchable').forEach(t => {
                t.style.display = t.innerText.toLowerCase().includes(val) ? "block" : "none";
            });
        }

        function gerarPDF() {
            const element = document.getElementById('area-pdf');
            const ref = document.getElementById('ref').value || 'estudo';
            const opt = {
                margin: 10,
                filename: `Estudo_EDB_${ref}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, backgroundColor: '#0f0f0f' }, // Mant√©m o tema dark no PDF
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(element).save();
        }

        function limpar() {
            if(confirm("Deseja apagar tudo?")) {
                document.querySelectorAll('textarea, input').forEach(i => i.value = "");
            }
        }
    </script>
</body>
</html>