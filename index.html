<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDB - Caderno de Exegese</title>
    <style>
        :root {
            --bg-body: #121212;
            --bg-card: #1e1e1e;
            --text-main: #e0e0e0;
            --text-muted: #b0b0b0;
            --border: #333;
            --accent-p1: #3498db; /* Azul Observa√ß√£o */
            --accent-p2: #f1c40f; /* Amarelo Interpreta√ß√£o */
            --accent-tools: #9b59b6; /* Roxo Ferramentas */
            --accent-p3: #27ae60; /* Verde Aplica√ß√£o */
        }

        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            line-height: 1.6; 
            max-width: 850px; 
            margin: auto; 
            padding: 20px; 
            background-color: var(--bg-body); 
            color: var(--text-main); 
        }

        h1 { text-align: center; color: #fff; margin-bottom: 30px; font-weight: 300; }

        .card { 
            background: var(--bg-card); 
            padding: 25px; 
            border-radius: 12px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); 
            margin-bottom: 25px; 
            border-left: 6px solid #444;
            transition: transform 0.2s;
        }

        .card:hover { transform: translateY(-2px); }
        .p1 { border-left-color: var(--accent-p1); }
        .p2 { border-left-color: var(--accent-p2); }
        .tools { border-left-color: var(--accent-tools); }
        .p3 { border-left-color: var(--accent-p3); }

        h2 { margin-top: 0; font-size: 1.2em; color: #fff; display: flex; align-items: center; gap: 10px; }
        
        .instrucao { 
            font-size: 0.85em; 
            color: var(--text-muted); 
            margin-bottom: 12px; 
            display: block;
            border-bottom: 1px solid #333;
            padding-bottom: 8px;
        }

        input, textarea { 
            width: 100%; 
            padding: 12px; 
            background: #252525; 
            border: 1px solid var(--border); 
            border-radius: 6px; 
            color: #fff; 
            font-size: 1em; 
            box-sizing: border-box;
        }

        textarea:focus { border-color: var(--accent-p1); outline: none; background: #2a2a2a; }

        .btn-group { display: flex; gap: 10px; margin-top: 20px; }
        
        button { 
            flex: 1;
            padding: 15px; 
            border-radius: 8px; 
            border: none; 
            cursor: pointer; 
            font-weight: bold; 
            font-size: 1em;
            transition: opacity 0.3s;
        }

        .btn-save { background: #444; color: white; }
        .btn-download { background: var(--accent-p3); color: white; }
        button:hover { opacity: 0.8; }

        .footer { text-align: center; font-size: 0.8em; color: var(--text-muted); margin-top: 40px; }
    </style>
</head>
<body>

    <h1>üìì Caderno de Exegese</h1>

    <div class="card">
        <h2>üìç Refer√™ncia B√≠blica</h2>
        <input type="text" id="ref" placeholder="Ex: Filipenses 4:10-13">
    </div>

    <div class="card p1">
        <h2>1. Observa√ß√£o üîç</h2>
        <span class="instrucao">Pergunta da Apostila: "O que eu vejo no texto?" [cite: 69]</span>
        <textarea id="p1" rows="5" placeholder="‚Ä¢ Liste fatos, verbos e repeti√ß√µes.&#10;‚Ä¢ O que Deus revela de si mesmo aqui?&#10;‚Ä¢ Evite interpretar agora!"></textarea>
    </div>

    <div class="card p2">
        <h2>2. Interpreta√ß√£o üí°</h2>
        <span class="instrucao">Pergunta da Apostila: "O que isso significou L√Å para eles?" [cite: 70]</span>
        <textarea id="p2" rows="5" placeholder="‚Ä¢ Qual a inten√ß√£o do autor original? [cite: 37]&#10;‚Ä¢ Qual o contexto hist√≥rico?&#10;‚Ä¢ O que os destinat√°rios originais ouviram? [cite: 36]"></textarea>
    </div>

    <div class="card tools">
        <h2>3. Caixa de Ferramentas üõ†Ô∏è</h2>
        <span class="instrucao">Apoio: Grego/Hebraico e Coment√°rios (√∫ltimo passo) [cite: 55]</span>
        <textarea id="tools" rows="4" placeholder="‚Ä¢ Notas de dicion√°rios b√≠blicos.&#10;‚Ä¢ √änfases do original (grego/hebraico). [cite: 51]&#10;‚Ä¢ Insights de coment√°rios exeg√©ticos. [cite: 55]"></textarea>
    </div>

    <div class="card p3">
        <h2>4. Aplica√ß√£o üå±</h2>
        <span class="instrucao">Pergunta da Apostila: "O que isso significa AQUI para mim?" [cite: 71]</span>
        <textarea id="p3" rows="5" placeholder="‚Ä¢ Como a verdade original se aplica hoje?&#10;‚Ä¢ O que n√£o pode significar (limite da exegese)? [cite: 49]&#10;‚Ä¢ Resposta pr√°tica e pessoal."></textarea>
    </div>

    <div class="btn-group">
        <button class="btn-save" onclick="salvarLocal()">üíæ Salvar Rascunho</button>
        <button class="btn-download" onclick="baixarTxt()">üì• Baixar Estudo</button>
    </div>

    <div class="footer">
        Baseado no Intensivo EDB - FHOP [cite: 4]
    </div>

    <script>
        function salvarLocal() {
            const dados = {
                ref: document.getElementById('ref').value,
                p1: document.getElementById('p1').value,
                p2: document.getElementById('p2').value,
                tools: document.getElementById('tools').value,
                p3: document.getElementById('p3').value
            };
            localStorage.setItem('meu_estudo_fhop', JSON.stringify(dados));
            alert("Rascunho salvo no seu navegador!");
        }

        window.onload = function() {
            const salvo = localStorage.getItem('meu_estudo_fhop');
            if (salvo) {
                const d = JSON.parse(salvo);
                document.getElementById('ref').value = d.ref;
                document.getElementById('p1').value = d.p1;
                document.getElementById('p2').value = d.p2;
                document.getElementById('tools').value = d.tools;
                document.getElementById('p3').value = d.p3;
            }
        };

        function baixarTxt() {
            const ref = document.getElementById('ref').value || 'estudo';
            const texto = `ESTUDO B√çBLICO (M√âTODO EDB)\nRef: ${ref}\n\n1. OBSERVA√á√ÉO:\n${document.getElementById('p1').value}\n\n2. INTERPRETA√á√ÉO:\n${document.getElementById('p2').value}\n\n3. FERRAMENTAS:\n${document.getElementById('tools').value}\n\n4. APLICA√á√ÉO:\n${document.getElementById('p3').value}`;
            const blob = new Blob([texto], { type: "text/plain" });
            const a = document.createElement("a");
            a.href = URL.createObjectURL(blob);
            a.download = `${ref}.txt`;
            a.click();
        }
    </script>
</body>
</html>